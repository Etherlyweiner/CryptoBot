<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Solana Trading Bot for automated memecoin trading using Jupiter DEX">
    <title>Solana Trading Bot - Memecoin Trading</title>
    
    <!-- Core dependencies -->
    <script defer src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@solana/spl_token@0.3.11/lib/index.iife.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@project-serum/anchor@0.26.0/dist/browser/anchor.min.js"></script>
    
    <!-- Custom scripts -->
    <script defer src="wallet.js"></script>
    <script defer src="jupiter.js"></script>
    <script defer src="birdeye.js"></script>
    <script defer src="trading_bot.js"></script>
    
    <style>
        :root {
            --primary-color: #2196F3;
            --success-color: #4CAF50;
            --error-color: #f44336;
            --text-color: #333;
            --background-color: #f5f5f5;
            --card-background: white;
            --border-radius: 8px;
            --spacing: 20px;
            --focus-outline: 3px solid #2196F3;
        }

        /* Reset and base styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.5;
            color: var(--text-color);
            background-color: var(--background-color);
            padding: var(--spacing);
            min-height: 100vh;
        }

        /* Accessibility improvements */
        :focus {
            outline: var(--focus-outline);
            outline-offset: 2px;
        }

        :focus:not(:focus-visible) {
            outline: none;
        }

        /* Skip to main content link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary-color);
            color: white;
            padding: 8px;
            z-index: 100;
        }

        .skip-link:focus {
            top: 0;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: var(--card-background);
            padding: var(--spacing);
            border-radius: var(--border-radius);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Typography */
        h1, h2 {
            color: var(--text-color);
            margin-bottom: var(--spacing);
        }

        /* Status indicators */
        .status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 4px;
            background-color: #f0f0f0;
            margin: 10px 0;
        }

        .status.success {
            background-color: var(--success-color);
            color: white;
        }

        /* Buttons */
        button {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            background-color: var(--primary-color);
            color: white;
            cursor: pointer;
            margin: 5px;
            font-size: 1rem;
            transition: background-color 0.2s, transform 0.1s;
        }

        button:hover {
            background-color: #1976D2;
        }

        button:active {
            transform: scale(0.98);
        }

        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        /* Form elements */
        .settings-group {
            margin: var(--spacing) 0;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #666;
            font-weight: 500;
        }

        input[type="number"] {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 120px;
            font-size: 1rem;
        }

        input[type="number"]:focus {
            border-color: var(--primary-color);
        }

        /* Trading panel */
        .trading-panel {
            margin-top: var(--spacing);
            display: none;
            animation: fadeIn 0.3s ease-in;
        }

        /* Positions */
        .positions {
            margin-top: var(--spacing);
        }

        .position-row {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            padding: 10px;
            border-bottom: 1px solid #eee;
            align-items: center;
        }

        .position-row:hover {
            background-color: #f9f9f9;
        }

        /* Status colors */
        .profit {
            color: var(--success-color);
            font-weight: 500;
        }

        .loss {
            color: var(--error-color);
            font-weight: 500;
        }

        .close-position {
            background-color: var(--error-color);
        }

        .no-positions {
            color: #666;
            font-style: italic;
            padding: 10px;
        }

        /* Error messages */
        .error-message {
            color: var(--error-color);
            background-color: #ffebee;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            display: none;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .position-row {
                grid-template-columns: repeat(2, 1fr);
                gap: 5px;
            }

            .container {
                padding: 10px;
            }

            input[type="number"] {
                width: 100%;
            }
        }

        /* High contrast mode support */
        @media (forced-colors: active) {
            button {
                border: 2px solid ButtonText;
            }

            .status.success {
                border: 2px solid ButtonText;
            }

            .position-row {
                border: 1px solid ButtonText;
            }
        }
    </style>
</head>
<body>
    <a href="#main" class="skip-link">Skip to main content</a>
    
    <div class="container">
        <main id="main">
            <h1>Solana Trading Bot - Memecoin Trading</h1>
            <p>Trade memecoins safely using Jupiter DEX aggregator.</p>
            
            <!-- Wallet section -->
            <section aria-labelledby="wallet-section">
                <h2 id="wallet-section" class="visually-hidden">Wallet Connection</h2>
                <button id="connectWallet" onclick="connectWallet()" aria-label="Connect wallet">
                    Connect Wallet
                </button>
                <div id="walletStatus" class="status" role="status" aria-live="polite">
                    Not connected
                </div>
            </section>
            
            <!-- Trading panel -->
            <section id="tradingPanel" class="trading-panel" aria-labelledby="trading-section">
                <h2 id="trading-section">Trading Settings</h2>
                
                <!-- Trading settings -->
                <form id="tradingSettings" class="settings-group">
                    <div class="form-group">
                        <label for="tradeSize">Trade Size (SOL):</label>
                        <input type="number" 
                               id="tradeSize" 
                               min="0.1" 
                               step="0.1" 
                               value="0.1"
                               aria-describedby="tradeSizeHelp">
                        <small id="tradeSizeHelp">Minimum trade size is 0.1 SOL</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="maxSlippage">Max Slippage (%):</label>
                        <input type="number" 
                               id="maxSlippage" 
                               min="0.1" 
                               step="0.1" 
                               value="1"
                               aria-describedby="slippageHelp">
                        <small id="slippageHelp">Maximum allowed price slippage</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="profitTarget">Profit Target (%):</label>
                        <input type="number" 
                               id="profitTarget" 
                               min="1" 
                               step="1" 
                               value="10"
                               aria-describedby="profitHelp">
                        <small id="profitHelp">Target profit percentage for auto-sell</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="stopLoss">Stop Loss (%):</label>
                        <input type="number" 
                               id="stopLoss" 
                               min="1" 
                               step="1" 
                               value="5"
                               aria-describedby="stopLossHelp">
                        <small id="stopLossHelp">Maximum allowed loss percentage</small>
                    </div>
                </form>
                
                <!-- Bot controls -->
                <div class="bot-controls" role="group" aria-labelledby="bot-controls">
                    <h3 id="bot-controls" class="visually-hidden">Bot Controls</h3>
                    <button id="startBot" 
                            onclick="tradingBot.start()" 
                            aria-label="Start trading bot">
                        Start Bot
                    </button>
                    <button id="stopBot" 
                            onclick="tradingBot.stop()" 
                            disabled 
                            aria-label="Stop trading bot">
                        Stop Bot
                    </button>
                    <div class="bot-status" role="status" aria-live="polite">
                        <span>Status: <span id="botStatus">Inactive</span></span>
                        <span>Active Trades: <span id="activeTrades">0</span></span>
                    </div>
                </div>
                
                <!-- Positions -->
                <section class="positions" aria-labelledby="positions-section">
                    <h2 id="positions-section">Active Positions</h2>
                    <div id="positionsList" 
                         role="table" 
                         aria-label="Active trading positions">
                        <div class="no-positions" role="row">No active positions</div>
                    </div>
                </section>
            </section>
            
            <!-- Status messages -->
            <div id="status" 
                 class="error-message" 
                 role="alert" 
                 aria-live="assertive" 
                 style="display: none;">
            </div>
        </main>
    </div>
</body>
</html>
