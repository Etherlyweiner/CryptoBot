<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://unpkg.com https://*.solana.com https://quote-api.jup.ag https://public-api.birdeye.so https://*.helius-rpc.com https://*.helius.xyz; connect-src 'self' https://*.solana.com https://quote-api.jup.ag https://public-api.birdeye.so https://*.helius-rpc.com https://*.helius.xyz ws://*; script-src 'self' 'unsafe-inline' https://unpkg.com; style-src 'self' 'unsafe-inline';">
    <title>Solana Memecoin Trader</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preload" href="https://unpkg.com/@solana/web3.js@1.87.6/lib/index.iife.min.js" as="script">
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="card">
                <h2>Bot Controls</h2>
                <div class="status-container">
                    <div id="wallet-status">Wallet: Not Connected</div>
                    <div id="bot-status">Bot: Stopped</div>
                </div>
                <div class="button-container">
                    <button id="connect-wallet">Connect Wallet</button>
                    <button id="start-bot" disabled>Start Bot</button>
                </div>
            </div>

            <div class="card">
                <h2>Trading Settings</h2>
                <div class="settings-container">
                    <div class="setting">
                        <label for="trade-size">Trade Size (SOL)</label>
                        <input type="number" id="trade-size" value="0.1" min="0.01" step="0.01">
                    </div>
                    <div class="setting">
                        <label for="buy-threshold">Buy Threshold (%)</label>
                        <input type="number" id="buy-threshold" value="5" min="0" step="0.1">
                    </div>
                    <div class="setting">
                        <label for="sell-threshold">Sell Threshold (%)</label>
                        <input type="number" id="sell-threshold" value="-3" step="0.1">
                    </div>
                    <div class="setting">
                        <label for="stop-loss">Stop Loss (%)</label>
                        <input type="number" id="stop-loss" value="-10" step="0.1">
                    </div>
                    <div class="setting">
                        <label for="take-profit">Take Profit (%)</label>
                        <input type="number" id="take-profit" value="20" min="0" step="0.1">
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>Token Discovery</h2>
                <div id="token-list"></div>
            </div>
        </div>

        <div class="main-content">
            <div class="card">
                <h2>Bot Logs</h2>
                <div id="bot-logs"></div>
            </div>

            <div class="card trades">
                <h2>Trade History</h2>
                <div id="trades-list"></div>
            </div>
        </div>
    </div>

    <!-- Initialize Constants -->
    <script>
        window.CONSTANTS = {
            JUPITER_API: 'https://quote-api.jup.ag/v6',
            BIRDEYE_API: 'https://public-api.birdeye.so/public',
            RPC_ENDPOINTS: [
                'https://mainnet.helius-rpc.com',
                'https://rpc.helius.xyz'
            ],
            HELIUS_API_KEY: 'e74d34f4-e88d-4da1-8178-01ef5749372c',
            SOL_MINT: 'So11111111111111111111111111111111111111112'
        };
    </script>

    <!-- Load dependencies in order -->
    <script src="https://unpkg.com/@solana/web3.js@1.87.6/lib/index.iife.min.js"></script>
    <script src="config.js"></script>
    <script src="logger.js" defer></script>
    <script src="rpc-manager.js" defer></script>
    <script src="risk-manager.js" defer></script>
    <script src="wallet-security.js" defer></script>
    <script src="jupiter.js" defer></script>
    <script src="trading.js" defer></script>
    <script src="token_discovery.js" defer></script>
</body>
</html>
